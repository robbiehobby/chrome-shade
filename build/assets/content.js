(function(){let e=document.querySelector("screen-dimmer");if(!e){let t,i;try{t=JSON.parse(localStorage.getItem("screen-dimmer")||""),i=t==null?void 0:t.website.mode}catch{}e=document.createElement("screen-dimmer"),e.style.position="fixed",e.style.zIndex="2147483647",e.style.inset="0",e.style.pointerEvents="none",e.style.visibility=t!=null&&t.website.on?"visible":"hidden",t&&i?(e.style.opacity=String(t[i].overlay.opacity),e.style.backgroundColor=t[i].overlay.color):(e.style.opacity="0",e.style.backgroundColor="#000"),e.style.mixBlendMode="multiply",document.documentElement.appendChild(e)}function o(t){if(!e||!t)return;const{mode:i}=t.website;e.style.visibility=t.website.on?"visible":"hidden",e.style.opacity=t.website.on?String(t[i].overlay.opacity):"0",e.style.backgroundColor=t[i].overlay.color,e.style.transition||setTimeout(()=>{e.style.transition="all",e.style.transitionDuration="0.25s",e.style.transitionTimingFunction="ease"}),localStorage.setItem("screen-dimmer",JSON.stringify(t))}chrome.runtime.sendMessage({type:"getSettings"},t=>o(t))})();
